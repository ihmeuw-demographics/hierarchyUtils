<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Create a data.tree object to be used for aggregating or scaling
hierarchical categorical or interval data — create_agg_tree • hierarchyUtils</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Create a data.tree object to be used for aggregating or scaling
hierarchical categorical or interval data — create_agg_tree"><meta property="og:description" content="Creates a hierarchical data.tree object that defines how
different levels of categorical or interval data are related to each other."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- dependencies from examples --><script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script><script src="libs/d3-4.5.0/d3.min.js"></script><script src="libs/diagonalNetwork-binding-0.4/diagonalNetwork.js"></script></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">hierarchyUtils</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/hierarchyUtils.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/agg_scale_performance.html">Aggregation/Scaling performance</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ihmeuw-demographics/hierarchyUtils/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create a data.tree object to be used for aggregating or scaling
hierarchical categorical or interval data</h1>
    <small class="dont-index">Source: <a href="https://github.com/ihmeuw-demographics/hierarchyUtils/blob/HEAD/R/categorical_trees.R" class="external-link"><code>R/categorical_trees.R</code></a></small>
    <div class="hidden name"><code>create_tree.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Creates a hierarchical data.tree object that defines how
different levels of categorical or interval data are related to each other.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">create_agg_tree</span><span class="op">(</span><span class="va">mapping</span>, <span class="va">exists</span>, <span class="va">col_type</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">create_scale_tree</span><span class="op">(</span><span class="va">mapping</span>, <span class="va">exists</span>, <span class="va">col_type</span>, collapse_missing <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">vis_tree</span><span class="op">(</span><span class="va">tree</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>mapping</dt>
<dd><p>[<code>data.table()</code>]<br>
For 'categorical' variables, defines how different levels of the
hierarchical variable relate to each other. For aggregating 'interval'
variables, it is used to specify intervals to aggregate to, while when
scaling the mapping is inferred from the available intervals in <code>dt</code>.</p></dd>


<dt>exists</dt>
<dd><p>[<code><a href="https://rdrr.io/r/base/character.html" class="external-link">character()</a></code>]<br>
names of variables in the mapping that data exists for.</p></dd>


<dt>col_type</dt>
<dd><p>[<code>character(1)</code>]<br>
The type of variable that is being aggregated or scaled over. Can be either
'categorical' or 'interval'.</p></dd>


<dt>collapse_missing</dt>
<dd><p>[<code>logical(1)</code>]<br>
When scaling a <code>categorical</code> variable, whether to collapse missing
intermediate levels in <code>mapping</code>. Default is 'False' and the function
errors out due to missing data.</p></dd>


<dt>tree</dt>
<dd><p>[<code>data.tree()</code>] as returned by <code>create_agg_tree()</code> or
<code>create_scale_tree()</code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p><code>create_agg_tree()</code> and <code>create_scale_tree()</code> return a
[<code>data.tree()</code>] with attributes for whether each node has data available
('exists') and whether aggregation to or scaling of each node is possible
('agg_possible' or 'scale_possible'). For <code>create_scale_tree()</code>, also
includes a field for whether children of each node can be scaled
('scale_children_possible').</p>


<p><code>vis_tree()</code> uses <code><a href="https://rdrr.io/pkg/networkD3/man/diagonalNetwork.html" class="external-link">networkD3::diagonalNetwork()</a></code> to create 'D3' network
graphs.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p><a href="https://en.wikipedia.org/wiki/Tree_(data_structure)" class="external-link">Hierarchical tree data structures</a>
are used to represent different levels of the categorical or interval data.
The r package <span class="pkg">data.tree</span> is used to implement these data structures.</p>
<p>When <code>vis_tree()</code> is used to visualize a tree returned by <code>create_agg_tree()</code>
then nodes with data directly provided are colored green, nodes where
aggregation is possible are colored blue, and missing nodes without data
directly provided and where aggregation is impossible because of the missing
nodes are colored red.</p>
<p>When <code>vis_tree()</code> is used to visualize a tree returned by
<code>create_scale_tree()</code> then nodes with data directly provided and that can be
scaled are colored green, nodes with data directly provided but that can not
be scaled are colored blue and nodes without data directly provided</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># aggregation example where all present day locations exist except for Tehran</span></span></span>
<span class="r-in"><span><span class="va">locations_present</span> <span class="op">&lt;-</span> <span class="va">iran_mapping</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"[0-9]+"</span>, <span class="va">child</span><span class="op">)</span> <span class="op">&amp;</span></span></span>
<span class="r-in"><span>                                   <span class="va">child</span> <span class="op">!=</span> <span class="st">"Tehran"</span>, <span class="va">child</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">agg_tree</span> <span class="op">&lt;-</span> <span class="fu">create_agg_tree</span><span class="op">(</span><span class="va">iran_mapping</span>, exists <span class="op">=</span> <span class="va">locations_present</span>,</span></span>
<span class="r-in"><span>                            col_type <span class="op">=</span> <span class="st">"categorical"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">vis_tree</span><span class="op">(</span><span class="va">agg_tree</span><span class="op">)</span></span></span>
<div id="htmlwidget-ac96cb3ee4656e2e9ec3" style="width:700px;height:432.632880098888px;" class="diagonalNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-ac96cb3ee4656e2e9ec3">{"x":{"root":{"name":"Iran (Islamic Republic of)","agg_possible":false,"exists":false,"vis_group_node":"Not Possible","children":[{"name":"Markazi 1956","agg_possible":false,"exists":false,"vis_group_node":"Not Possible","children":[{"name":"Markazi 1966-1976","agg_possible":false,"exists":false,"vis_group_node":"Not Possible","children":[{"name":"Markazi","agg_possible":true,"exists":true,"vis_group_node":"Value Provided"},{"name":"Tehran 1986-1995","agg_possible":false,"exists":false,"vis_group_node":"Not Possible","children":[{"name":"Tehran 2006","agg_possible":false,"exists":false,"vis_group_node":"Not Possible","children":[{"name":"Tehran","agg_possible":false,"exists":false,"vis_group_node":"Not Possible"},{"name":"Alborz","agg_possible":true,"exists":true,"vis_group_node":"Value Provided"}]},{"name":"Qom","agg_possible":true,"exists":true,"vis_group_node":"Value Provided"}]}]},{"name":"Semnan","agg_possible":true,"exists":true,"vis_group_node":"Value Provided"}]},{"name":"Gilan 1956-1966","agg_possible":true,"exists":false,"vis_group_node":"Possible","children":[{"name":"Gilan","agg_possible":true,"exists":true,"vis_group_node":"Value Provided"},{"name":"Zanjan 1976-1996","agg_possible":true,"exists":false,"vis_group_node":"Possible","children":[{"name":"Zanjan","agg_possible":true,"exists":true,"vis_group_node":"Value Provided"},{"name":"Qazvin","agg_possible":true,"exists":true,"vis_group_node":"Value Provided"}]}]},{"name":"Mazandaran 1956-1996","agg_possible":true,"exists":false,"vis_group_node":"Possible","children":[{"name":"Mazandaran","agg_possible":true,"exists":true,"vis_group_node":"Value Provided"},{"name":"Golestan","agg_possible":true,"exists":true,"vis_group_node":"Value Provided"}]},{"name":"East Azarbayejan 1956-1986","agg_possible":true,"exists":false,"vis_group_node":"Possible","children":[{"name":"East Azarbayejan","agg_possible":true,"exists":true,"vis_group_node":"Value Provided"},{"name":"Ardebil","agg_possible":true,"exists":true,"vis_group_node":"Value Provided"}]},{"name":"West Azarbayejan","agg_possible":true,"exists":true,"vis_group_node":"Value Provided"},{"name":"Kermanshahan 1956","agg_possible":true,"exists":false,"vis_group_node":"Possible","children":[{"name":"Ilam","agg_possible":true,"exists":true,"vis_group_node":"Value Provided"},{"name":"Kermanshah","agg_possible":true,"exists":true,"vis_group_node":"Value Provided"},{"name":"Hamadan","agg_possible":true,"exists":true,"vis_group_node":"Value Provided"}]},{"name":"Kurdistan","agg_possible":true,"exists":true,"vis_group_node":"Value Provided"},{"name":"Khuzestan and Lorestan 1956","agg_possible":true,"exists":false,"vis_group_node":"Possible","children":[{"name":"Khuzestan","agg_possible":true,"exists":true,"vis_group_node":"Value Provided"},{"name":"Lorestan","agg_possible":true,"exists":true,"vis_group_node":"Value Provided"}]},{"name":"Fars and Ports 1956","agg_possible":true,"exists":false,"vis_group_node":"Possible","children":[{"name":"Fars","agg_possible":true,"exists":true,"vis_group_node":"Value Provided"},{"name":"Hormozgan","agg_possible":true,"exists":true,"vis_group_node":"Value Provided"},{"name":"Bushehr","agg_possible":true,"exists":true,"vis_group_node":"Value Provided"},{"name":"Kohgiluyeh and Boyer-Ahmad","agg_possible":true,"exists":true,"vis_group_node":"Value Provided"}]},{"name":"Kerman","agg_possible":true,"exists":true,"vis_group_node":"Value Provided"},{"name":"Khorasan 1956-1996","agg_possible":true,"exists":false,"vis_group_node":"Possible","children":[{"name":"Khorasan-e-Razavi","agg_possible":true,"exists":true,"vis_group_node":"Value Provided"},{"name":"North Khorasan","agg_possible":true,"exists":true,"vis_group_node":"Value Provided"},{"name":"South Khorasan","agg_possible":true,"exists":true,"vis_group_node":"Value Provided"}]},{"name":"Isfahan and Yazd 1956","agg_possible":true,"exists":false,"vis_group_node":"Possible","children":[{"name":"Isfahan and Yazd 1966","agg_possible":true,"exists":false,"vis_group_node":"Possible","children":[{"name":"Isfahan","agg_possible":true,"exists":true,"vis_group_node":"Value Provided"},{"name":"Yazd","agg_possible":true,"exists":true,"vis_group_node":"Value Provided"}]},{"name":"Chahar Mahaal and Bakhtiari","agg_possible":true,"exists":true,"vis_group_node":"Value Provided"}]},{"name":"Sistan and Baluchistan","agg_possible":true,"exists":true,"vis_group_node":"Value Provided"}]},"options":{"height":null,"width":null,"fontSize":10,"fontFamily":"serif","linkColour":"#ccc","nodeColour":"function(d, i) { return {\"Value Provided\" : \"green\", \"Possible\" : \"blue\", \"Not Possible\" : \"red\"} [d.data.vis_group_node]; }","nodeStroke":"function(d, i) { return {\"Value Provided\" : \"green\", \"Possible\" : \"blue\", \"Not Possible\" : \"red\"} [d.data.vis_group_node]; }","textColour":"#111","margin":{"top":null,"right":null,"bottom":null,"left":null},"opacity":0.9}},"evals":["options.nodeColour","options.nodeStroke"],"jsHooks":[]}</script><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># scaling example where all present day locations exist without collapsing</span></span></span>
<span class="r-in"><span><span class="va">locations_present</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">iran_mapping</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"[0-9]+"</span>, <span class="va">child</span><span class="op">)</span>, <span class="va">child</span><span class="op">]</span>, <span class="st">"Iran"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">scale_tree</span> <span class="op">&lt;-</span> <span class="fu">create_scale_tree</span><span class="op">(</span><span class="va">iran_mapping</span>,</span></span>
<span class="r-in"><span>                                exists <span class="op">=</span> <span class="va">locations_present</span>,</span></span>
<span class="r-in"><span>                                col_type <span class="op">=</span> <span class="st">"categorical"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">vis_tree</span><span class="op">(</span><span class="va">scale_tree</span><span class="op">)</span></span></span>
<div id="htmlwidget-e5c8c404fe174e4c81bd" style="width:700px;height:432.632880098888px;" class="diagonalNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-e5c8c404fe174e4c81bd">{"x":{"root":{"name":"Iran (Islamic Republic of)","exists":false,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Not Possible","children":[{"name":"Markazi 1956","exists":false,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Not Possible","children":[{"name":"Markazi 1966-1976","exists":false,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Not Possible","children":[{"name":"Markazi","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"},{"name":"Tehran 1986-1995","exists":false,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Not Possible","children":[{"name":"Tehran 2006","exists":false,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Not Possible","children":[{"name":"Tehran","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"},{"name":"Alborz","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"}]},{"name":"Qom","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"}]}]},{"name":"Semnan","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"}]},{"name":"Gilan 1956-1966","exists":false,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Not Possible","children":[{"name":"Gilan","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"},{"name":"Zanjan 1976-1996","exists":false,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Not Possible","children":[{"name":"Zanjan","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"},{"name":"Qazvin","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"}]}]},{"name":"Mazandaran 1956-1996","exists":false,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Not Possible","children":[{"name":"Mazandaran","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"},{"name":"Golestan","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"}]},{"name":"East Azarbayejan 1956-1986","exists":false,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Not Possible","children":[{"name":"East Azarbayejan","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"},{"name":"Ardebil","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"}]},{"name":"West Azarbayejan","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"},{"name":"Kermanshahan 1956","exists":false,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Not Possible","children":[{"name":"Ilam","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"},{"name":"Kermanshah","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"},{"name":"Hamadan","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"}]},{"name":"Kurdistan","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"},{"name":"Khuzestan and Lorestan 1956","exists":false,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Not Possible","children":[{"name":"Khuzestan","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"},{"name":"Lorestan","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"}]},{"name":"Fars and Ports 1956","exists":false,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Not Possible","children":[{"name":"Fars","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"},{"name":"Hormozgan","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"},{"name":"Bushehr","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"},{"name":"Kohgiluyeh and Boyer-Ahmad","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"}]},{"name":"Kerman","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"},{"name":"Khorasan 1956-1996","exists":false,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Not Possible","children":[{"name":"Khorasan-e-Razavi","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"},{"name":"North Khorasan","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"},{"name":"South Khorasan","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"}]},{"name":"Isfahan and Yazd 1956","exists":false,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Not Possible","children":[{"name":"Isfahan and Yazd 1966","exists":false,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Not Possible","children":[{"name":"Isfahan","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"},{"name":"Yazd","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"}]},{"name":"Chahar Mahaal and Bakhtiari","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"}]},{"name":"Sistan and Baluchistan","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"}]},"options":{"height":null,"width":null,"fontSize":10,"fontFamily":"serif","linkColour":"#ccc","nodeColour":"function(d, i) { return {\"Value Provided\" : \"green\", \"Possible\" : \"blue\", \"Not Possible\" : \"red\"} [d.data.vis_group_node]; }","nodeStroke":"function(d, i) { return {\"Value Provided\" : \"green\", \"Possible\" : \"blue\", \"Not Possible\" : \"red\"} [d.data.vis_group_node]; }","textColour":"#111","margin":{"top":null,"right":null,"bottom":null,"left":null},"opacity":0.9}},"evals":["options.nodeColour","options.nodeStroke"],"jsHooks":[]}</script><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># scaling example where all present day locations exist and collapsing tree</span></span></span>
<span class="r-in"><span><span class="va">scale_tree</span> <span class="op">&lt;-</span> <span class="fu">create_scale_tree</span><span class="op">(</span><span class="va">iran_mapping</span>,</span></span>
<span class="r-in"><span>                                exists <span class="op">=</span> <span class="va">locations_present</span>,</span></span>
<span class="r-in"><span>                                col_type <span class="op">=</span> <span class="st">"categorical"</span>,</span></span>
<span class="r-in"><span>                                collapse <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">vis_tree</span><span class="op">(</span><span class="va">scale_tree</span><span class="op">)</span></span></span>
<div id="htmlwidget-36aa3d2a04d42bbc2145" style="width:700px;height:432.632880098888px;" class="diagonalNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-36aa3d2a04d42bbc2145">{"x":{"root":{"name":"Iran (Islamic Republic of)","exists":false,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Not Possible","children":[{"name":"Markazi","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"},{"name":"Tehran","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"},{"name":"Alborz","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"},{"name":"Qom","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"},{"name":"Semnan","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"},{"name":"Gilan","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"},{"name":"Zanjan","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"},{"name":"Qazvin","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"},{"name":"Mazandaran","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"},{"name":"Golestan","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"},{"name":"East Azarbayejan","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"},{"name":"Ardebil","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"},{"name":"West Azarbayejan","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"},{"name":"Ilam","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"},{"name":"Kermanshah","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"},{"name":"Hamadan","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"},{"name":"Kurdistan","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"},{"name":"Khuzestan","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"},{"name":"Lorestan","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"},{"name":"Fars","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"},{"name":"Hormozgan","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"},{"name":"Bushehr","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"},{"name":"Kohgiluyeh and Boyer-Ahmad","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"},{"name":"Kerman","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"},{"name":"Khorasan-e-Razavi","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"},{"name":"North Khorasan","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"},{"name":"South Khorasan","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"},{"name":"Isfahan","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"},{"name":"Yazd","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"},{"name":"Chahar Mahaal and Bakhtiari","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"},{"name":"Sistan and Baluchistan","exists":true,"scale_children_possible":false,"scale_possible":false,"vis_group_node":"Value Provided"}]},"options":{"height":null,"width":null,"fontSize":10,"fontFamily":"serif","linkColour":"#ccc","nodeColour":"function(d, i) { return {\"Value Provided\" : \"green\", \"Possible\" : \"blue\", \"Not Possible\" : \"red\"} [d.data.vis_group_node]; }","nodeStroke":"function(d, i) { return {\"Value Provided\" : \"green\", \"Possible\" : \"blue\", \"Not Possible\" : \"red\"} [d.data.vis_group_node]; }","textColour":"#111","margin":{"top":null,"right":null,"bottom":null,"left":null},"opacity":0.9}},"evals":["options.nodeColour","options.nodeStroke"],"jsHooks":[]}</script><span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Charlton Callender, Grant Nguyen, Katie Paulson, Spencer Pease, Haidong Wang, Institute for Health Metrics and Evaluation.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

